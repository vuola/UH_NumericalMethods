<!DOCTYPE html>
<html>
<head>
    <title>Executable Library</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .executable-link {
            display: block;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Executable Library</h1>
        
        <div class="executable-link">
            <a href="#" onclick="openShellPrompt('./build/exercise01', 'Exercise 1 - Problem 1')">Exercise 1 - Problem 1</a>
        </div>
        <div class="executable-link">
            <a href="#" onclick="openShellPrompt('./build/exercise01', 'Exercise 1 - Problem 2')">Exercise 1 - Problem 2</a>
        </div>
        <!-- Add more links for other exercises/problems -->

        <div id="shell-prompt"></div>
    </div>

    <script>
        function openShellPrompt(startingFolder, title) {
            const shellPrompt = document.getElementById('shell-prompt');
            shellPrompt.innerHTML = `
                <h2>${title}</h2>
                <iframe srcdoc="
                    <html>
                    <head>
                        <style>
                            body {
                                background-color: black;
                                color: white;
                                font-family: monospace;
                            }
                            #prompt {
                                display: block;
                            }
                        </style>
                    </head>
                    <body>
                        <pre>Welcome to the shell prompt!</pre>
                        <pre id='prompt'></pre>
                        <script>
                            const prompt = document.getElementById('prompt');
                            const cmdInput = document.createElement('input');
                            cmdInput.setAttribute('type', 'text');
                            cmdInput.style.width = '100%';
                            cmdInput.style.border = 'none';
                            cmdInput.style.background = 'black';
                            cmdInput.style.color = 'white';
                            cmdInput.focus();
                            document.body.appendChild(cmdInput);

                            const shellFrame = parent.document.getElementById('shell-prompt');
                            window.addEventListener('message', event => {
                                if (event.data.type === 'command') {
                                    const command = event.data.command;
                                    prompt.innerHTML += '$ ' + command + '\\n';
                                    // You can customize this part to execute the command in your Docker container
                                    // For security reasons, make sure to properly sanitize and validate user inputs
                                    // For demonstration purposes, let's just echo the command back
                                    prompt.innerHTML += 'Output:\\n';
                                    prompt.innerHTML += 'Command: ' + command + '\\n';
                                    cmdInput.value = '';
                                    cmdInput.focus();
                                }
                            });

                            cmdInput.addEventListener('keyup', event => {
                                if (event.key === 'Enter') {
                                    const command = cmdInput.value;
                                    parent.postMessage({ type: 'command', command: command }, '*');
                                }
                            });
                        </script>
                    </body>
                    </html>
                "></iframe>
            `;
        }
    </script>
</body>
</html>

