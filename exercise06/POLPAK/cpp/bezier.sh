# Create 20 x,y points which represent one sine wave and store into test.txt
cat <<EOL > test.txt
0 0
0.3141592653589793 0.5877852522924731
0.6283185307179586 0.9510565162951535
0.9424777960769379 0.9510565162951535
1.2566370614359172 0.5877852522924731
1.5707963267948966 1.2246467991473532e-16
1.8849555921538759 -0.587785252292473
2.199114857512855 -0.9510565162951535
2.5132741228718345 -0.9510565162951535
2.827433388230814 -0.5877852522924732
3.141592653589793 -2.4492935982947064e-16
3.4557519189487724 0.5877852522924728
3.7699111843077517 0.9510565162951535
4.084070449666731 0.9510565162951536
4.39822971502571 0.5877852522924734
4.71238898038469 3.6739403974420594e-16
5.026548245743669 -0.5877852522924725
5.340707511102648 -0.9510565162951535
5.654866776461628 -0.9510565162951536
5.969026041820607 -0.5877852522924736
EOL

# Run bezier function with input data from file
./bezier 20 0.01 < test.txt > bcurve.txt

# Create python script to plot the data
cat <<EOL > plot.py
import matplotlib.pyplot as plt
import numpy as np

data = np.loadtxt('test.txt')
x = data[:, 0]
y = data[:, 1]

data = np.loadtxt('bcurve.txt')
xb = data[:, 0]
yb = data[:, 1]

plt.plot(x, y, 'ro')
plt.plot(xb, yb, 'b-')
plt.show()
EOL

# Run python script to plot the data
python3 plot.py
